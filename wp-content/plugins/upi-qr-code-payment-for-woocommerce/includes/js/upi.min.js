function upiTransactionIDField(){var e="";if("show_require"==upiwc_params.transaction_id&&(e='<span class="upiwc-required">*</span>'),"hide"!=upiwc_params.transaction_id){var t="upiwc-"+upiwc_params.app_theme+"-input";return'<form id="upiwc-form"><div class="upiwc-form-group"><label for="upiwc-transaction-number"><strong>'+upiwc_params.transaction_text+"</strong> "+e+'</label><div class="upiwc-clear-area"></div><input type="text" id="upiwc-transaction-number" class="'+t+'" placeholder="e.g. 001422121258" maxlength="12" style="width: 70%;" onkeypress="return isNumber(event)" /></div><div class="upiwc-clear-area"></div></div>'}return""}function isNumber(e){e=e||window.event;var t=e.which?e.which:e.keyCode;return!(8!=t&&0!=t&&t>31&&(t<48||t>57))}jQuery(document).ready(function(e){if("undefined"==typeof upiwc_params)return!1;1==upiwc_params.prevent_reload&&(window.onbeforeunload=function(){return"Are you sure you want to leave?"});var t=e("#data-qr-code"),a=encodeURI(t.data("link"));e("#upiwc-qrcode").length&&new QRCode("upiwc-qrcode",{text:a,width:t.data("width"),height:t.data("height"),correctLevel:QRCode.CorrectLevel.H,quietZone:6,onRenderingEnd:function(){e("#upiwc-confirm-payment").trigger("click"),e("#upi-copy-link").click(function(t){alert("edffgf");var a=e("<input>");e("body").append(a),a.val(upiwc_params.upi_id).select(),document.execCommand("copy"),a.remove(),t.preventDefault()})}}),e("body").on("contextmenu","#upiwc-qrcode img",function(e){return!1}),e("#upiwc-cancel-payment").click(function(e){window.onbeforeunload=null,window.location=upiwc_params.cancel_url,e.preventDefault()}),e(".upiwc-return-link").click(function(e){window.onbeforeunload=null,window.location=upiwc_params.payment_url,e.preventDefault()}),e("#upiwc-confirm-payment").on("click",function(a){a.preventDefault();var i=e.confirm({title:'<span class="upiwc-popup-title-'+upiwc_params.app_theme+'">Scan this QR Code</span>',content:e("#js_qrcode").html(),useBootstrap:!1,theme:upiwc_params.app_theme,animation:"scale",type:e("#upiwc-confirm-payment").data("theme"),boxWidth:e("#data-dialog-box").data("pay"),draggable:!1,offsetBottom:e("#data-dialog-box").data("offset"),offsetTop:e("#data-dialog-box").data("offset"),autoClose:"nextStep|90000",onContentReady:function(){var a=this;this.$content.find(".btn-upi-copy").click(function(t){var i=e("<input>");e("body").append(i),i.val(upiwc_params.upi_id).select(),document.execCommand("copy"),i.remove(),$btn=a.$content.find(".btn-upi-copy"),$old_value=$btn.text(),$btn.text("Copied !"),setTimeout(function(){$btn.text($old_value)},1e3),t.preventDefault()}),this.$content.find(".btn-upi-pay").click(function(e){window.onbeforeunload=null,window.location=encodeURI(t.data("link")),e.preventDefault()})},buttons:{nextStep:{text:"Proceed to Next Step",btnClass:"btn-"+e("#upiwc-confirm-payment").data("theme"),keys:["enter","shift"],action:function(){return i.toggle(),e.confirm({title:'<span class="upiwc-popup-title-'+upiwc_params.app_theme+'">Confirm your Payment!</span>',content:upiTransactionIDField()+'<div id="upiwc-confirm-text" class="upiwc-confirm-text">'+upiwc_params.confirm_message+"</div>",useBootstrap:!1,theme:upiwc_params.app_theme,type:e("#upiwc-confirm-payment").data("theme"),boxWidth:e("#data-dialog-box").data("redirect"),draggable:!1,buttons:{confirm:{text:"Confirm",btnClass:"btn-"+e("#upiwc-confirm-payment").data("theme"),action:function(){var t=this.$content.find("#upiwc-transaction-number").val();if("show_require"==upiwc_params.transaction_id&&(""==t||t.length!=upiwc_params.tran_id_length))return e.alert({title:'<span class="upiwc-popup-title-'+upiwc_params.app_theme+'">Error!</span>',content:'<div id="upiwc-error-text">Please enter a valid Transaction/UTR ID and try again.</div>',useBootstrap:!1,draggable:!1,theme:upiwc_params.app_theme,type:"red",boxWidth:e("#data-dialog-box").data("redirect")}),!1;window.onbeforeunload=null,e("#payment-success-container").html("<form method='POST' action='"+upiwc_params.callback_url+"' id='UPIJSCheckoutForm' style='display: none;'><input type='hidden' name='wc_order_id' value='"+upiwc_params.orderid+"'><input type='hidden' name='wc_order_key' value='"+upiwc_params.order_key+"'><input type='hidden' name='wc_transaction_id' value='"+t+"'></form>"),e.dialog({title:'<span class="upiwc-popup-title-'+upiwc_params.app_theme+'">Processing!<span>',content:'<div id="upiwc-confirm-text" class="upiwc-confirm-text">'+upiwc_params.processing_text+"</div>",useBootstrap:!1,draggable:!1,theme:upiwc_params.app_theme,type:"blue",closeIcon:!1,offsetBottom:e("#data-dialog-box").data("offset"),offsetTop:e("#data-dialog-box").data("offset"),boxWidth:e("#data-dialog-box").data("redirect")}),e("#UPIJSCheckoutForm").submit()}},goBack:{text:"Go Back",action:function(){i.toggle()}}}}),!1}},close:function(){e("#upiwc-processing").hide(),e(".upiwc-buttons, .upiwc-return-link").fadeIn("slow"),e(".upiwc-waiting-text").text("Please click the Pay Now button below to complete the payment against this order.")}}});e("#upiwc-processing").show(),e(".upiwc-buttons, .upiwc-return-link").hide(),e(".upiwc-waiting-text").text("Please wait and don't press back or refresh this page while we are processing your payment...")})});